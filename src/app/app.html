<div class="min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4">
  <h1 class="text-3xl font-bold mb-4">Turn-Based Strategy</h1>
  <div class="mb-4 text-xl">
    Turn: <span class="font-mono text-yellow-400">{{ gameEngine.turn() }}</span>
  </div>

  <div class="grid grid-cols-10 gap-1 bg-gray-800 p-2 rounded-lg border border-gray-700 select-none">
    @for (y of gameEngine.gridRows; track y) {
      @for (x of gameEngine.gridCols; track x) {
        <div 
          (click)="onTileClick(x, y)"
          class="w-12 h-12 rounded flex items-center justify-center relative border transition-colors duration-200 cursor-pointer"
          [class.bg-gray-700]="!gameEngine.isValidMove(x, y)"
          [class.border-gray-600]="!gameEngine.isValidMove(x, y)"
          [class.bg-green-900]="gameEngine.isValidMove(x, y)"
          [class.border-green-500]="gameEngine.isValidMove(x, y)"
          [class.hover:bg-gray-600]="!gameEngine.isValidMove(x, y)"
          [class.hover:bg-green-800]="gameEngine.isValidMove(x, y)"
        >
           <!-- Grid coordinate helper -->
           <span class="absolute top-0 right-0 text-[8px] text-gray-500 p-0.5 pointer-events-none">{{x}},{{y}}</span>
           
           <!-- Unit Rendering -->
           @if (gameEngine.getUnitAt(x, y); as unit) {
             <div 
               class="w-10 h-10 rounded-full flex items-center justify-center font-bold border-2 transition-all duration-300 shadow-lg pointer-events-none"
               [class.bg-blue-500]="unit.owner === 'player'"
               [class.bg-red-500]="unit.owner === 'ai'"
               [class.border-blue-300]="unit.owner === 'player'"
               [class.border-red-300]="unit.owner === 'ai'"
               [class.ring-4]="gameEngine.selectedUnitId() === unit.id"
               [class.ring-yellow-400]="gameEngine.selectedUnitId() === unit.id"
               [class.ring-offset-2]="gameEngine.selectedUnitId() === unit.id"
               [class.ring-offset-gray-800]="gameEngine.selectedUnitId() === unit.id"
               [class.scale-110]="gameEngine.selectedUnitId() === unit.id"
               [class.ring-2]="unit.type === 'advanced' && gameEngine.selectedUnitId() !== unit.id"
               [class.ring-orange-400]="unit.type === 'advanced' && gameEngine.selectedUnitId() !== unit.id"
             >
               {{ unit.level }}
             </div>
           }
        </div>
      }
    }
  </div>
  
  <div class="mt-4 text-gray-400 text-sm">
    <p>Click on your (Blue) units to select.</p>
    <p>Green tiles indicate valid moves.</p>
    <p>Merge units by moving onto them.</p>
  </div>
</div>
